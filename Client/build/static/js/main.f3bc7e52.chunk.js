(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(50),o=n.n(c),l=n(13),u=(n(60),n(2)),s=n(8);var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a.useState)(e),n=Object(u.a)(t,2),r=n[0],c=n[1];return[r,function(e){c(e.target.value)},function(){c("")}]},m=n(11),f=n.n(m);n(77);var d=function(e){var t=e.history,n=e.loggedIn,a=i(),c=Object(u.a)(a,2),o=c[0],m=c[1],d=i(),E=Object(u.a)(d,2),h=E[0],p=E[1];return n?r.a.createElement(s.a,{to:"/chat"}):r.a.createElement("div",{className:"LoginPage"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f.a.post("/api/users/login",{username:o,password:h,withCredentials:!0}).then((function(e){e.data.loggedIn&&t.push("/chat")})).catch((function(e){return console.log(e)}))}},r.a.createElement("h1",null,"Sign In"),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",id:"username",value:o,onChange:m}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",value:h,onChange:p}),r.a.createElement("button",null,"Login"),r.a.createElement(l.b,{to:"/users/new"},"Create User")))};n(82);var E=function(){var e=i(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=i(),o=Object(u.a)(c,2),l=o[0],s=o[1];return r.a.createElement("div",{className:"CreateAccountPage"},r.a.createElement("form",{action:"api/users/new",method:"POST"},r.a.createElement("h1",null,"Create an Account"),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",id:"username",value:n,onChange:a}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",value:l,onChange:s}),r.a.createElement("button",null,"Sign Up")))},h=n(26),p=n(53),g=n.n(p),v=n(54),b=n.n(v);var w=function(e){var t=e.text;return r.a.createElement("li",null,t)};n(116);var O=function(e){return r.a.createElement("div",{className:"ChatWindow"},r.a.createElement("ul",null,e.messages.map((function(e){return r.a.createElement(w,{key:b()(),text:e})}))))};n(117);var j,C=function(e){var t=i(),n=Object(u.a)(t,3),a=n[0],c=n[1],o=n[2];function l(){e.newMessage(a),o()}return r.a.createElement("div",{className:"ChatInput"},r.a.createElement("textarea",{type:"text",value:a,onChange:c,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),r.a.createElement("button",{onClick:l},"Send"))};n(118);var y=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(j=g()()).on("chat message",(function(e){c((function(t){return[].concat(Object(h.a)(t),[e])}))}))}),[]),r.a.createElement("div",null,r.a.createElement(O,{messages:n}),r.a.createElement(C,{newMessage:function(e){j.emit("chat message",e),c((function(t){return[].concat(Object(h.a)(t),[e])}))}}))};n(119);var x=function(){var e=Object(a.useState)({loggedIn:!1}),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){f.a.get("/api/users/loggedon",{withCredentials:!0}).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(d,Object.assign({},e,n))}}),r.a.createElement(s.b,{exact:!0,path:"/chat"},r.a.createElement(y,null)),r.a.createElement(s.b,{exact:!0,path:"/users/new"},r.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,n){e.exports=n(120)},60:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){}},[[55,1,2]]]);
//# sourceMappingURL=main.f3bc7e52.chunk.js.map